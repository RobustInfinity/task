(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t){e.exports={BASE_URL:"https://prototypetask.herokuapp.com"}},37:function(e,t,n){e.exports=n(70)},42:function(e,t,n){},6:function(e,t){var n={save:function(e){Object.keys(e).forEach(function(t){localStorage.setItem(t,JSON.stringify(e[t]))})},get:function(e){return JSON.parse(localStorage.getItem(e))},remove:function(e){localStorage.clear()},length:function(){return localStorage.length}};e.exports=n},68:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(31),s=n.n(r),l=(n(42),n(8)),c=n(9),i=n(11),u=n(10),m=n(12),p=n(15),d=n(74),g=n(7),h=n(6),f=n.n(h),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userId:0===f.a.length()?"":f.a.get("userId"),name:0===f.a.length()?"":f.a.get("name"),email:0===f.a.length()?"":f.a.get("email"),isLogin:0!==f.a.length()&&f.a.get("isLogin")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":var n=function(e){return console.log(e),{userId:e.payload.userId,name:e.payload.name,email:e.payload.email,isLogin:!0}}(t);return console.log(n),f.a.save(n),n;case"LOGOUT":var a={userId:"",name:"",email:"",isLogin:!1};return f.a.save(a),a;default:return f.a.save(e),e}},v={notes:[],count:0},b=function(e){return{notes:e.notes,count:e.notes.length}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET":case"ADD":return b(t.payload);default:return e}},C=n(33),j=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||g.d,w=Object(g.c)({user:E,notes:O}),y=Object(g.e)(w,j(Object(g.a)(C.a))),k=n(76),N=n(34),S=n.n(N),L=n(35),I=n.n(L),A=S.a.create({baseURL:I.a.BASE_URL,headers:{"Content-Type":"application/json"},timeout:2e4}),T=function(e){console.log(e);var t={};return t.email=e.email,t.password=e.password,function(e){A.post("/login",t).then(function(t){var n=t.data;n.success?(console.log(n),e(function(e){return{type:"LOGIN",payload:e}}(n.result))):console.log(n)})}},_=function(){return{type:"LOGOUT"}},x=n(75),D=n(72),G=n(73),H=function(e){return e.user.isLogin?o.a.createElement("div",null,o.a.createElement(G.a,{to:"/notes"})):o.a.createElement("div",null,o.a.createElement(G.a,{to:"/login"}))},U=n(19),P=n(71),R=function(e){return o.a.createElement("div",null,o.a.createElement("label",null,e.label),o.a.createElement("input",{type:e.type,onChange:function(t){return e.onChange(t,e.name)},placeholder:e.placeholder,value:e.value}))},B=function(e){return o.a.createElement("button",{className:"",onClick:function(){return e.onClick()}},e.value)},J=function(e,t){if("email"===e)return/^([a-zA-Z0-9_\-.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(t)},z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChangeHandler=function(e,t){n.setState({message:""});var a={};a[t]=e.target.value,n.setState(Object(U.a)({},a))},n.onClick=function(){J("email",n.state.email)&&""!==n.state.password?n.props.onClick(n.state):n.setState({message:"Invalid Details"})},n.state={email:"",password:"",message:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.props.user.isLogin?o.a.createElement(G.a,{to:"/notes"}):o.a.createElement("div",null,""!==this.state.message?o.a.createElement("p",null,this.state.message):null,o.a.createElement(R,{label:"Email",name:"email",type:"text",placeholder:"Enter Email",onChange:this.onChangeHandler}),o.a.createElement(R,{label:"Password",name:"password",type:"password",placeholder:"Enter Password",onChange:this.onChangeHandler}),o.a.createElement(B,{value:"LOGIN",onClick:this.onClick}),o.a.createElement(P.a,{to:"/signup"},"New User?")))}}]),t}(a.Component),Z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChangeHandler=function(e,t){""!==n.state.message&&n.setState({message:""});var a={};a[t]=e.target.value,n.setState(Object(U.a)({},a))},n.onClick=function(){""===n.state.name||""===n.state.email||""===n.state.password?n.setState({message:"Felid cannot be empty"}):A.post("/signup",{name:n.state.name,email:n.state.email,password:n.state.password}).then(function(e){console.log(e.data),e.data.success?n.setState({message:e.data.message}):n.setState({message:e.data.errors.email})}).catch(function(e){})},n.state={name:"",email:"",password:"",message:""},console.log("SIGNUP"),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,""!==this.state.message?this.state.message:null),o.a.createElement(R,{label:"Name",name:"name",type:"text",placeholder:"Enter Name",onChange:this.onChangeHandler}),o.a.createElement(R,{label:"Email",name:"email",type:"text",placeholder:"Enter Email",onChange:this.onChangeHandler}),o.a.createElement(R,{label:"Password",name:"password",type:"password",placeholder:"Enter Password",onChange:this.onChangeHandler}),o.a.createElement(B,{value:"REGISTER",onClick:this.onClick}),o.a.createElement(P.a,{to:"/login"},"Back To Login"))}}]),t}(a.Component),W=function(e){return{type:"ADD",payload:e}},X=function(e){return console.log(e),function(t){A.post("/getNotes",{userId:e}).then(function(e){var n=e.data.result;t(W(n))})}},$=function(e,t){return console.log(e),function(n){A.post("/createNote",{userId:e,note:t}).then(function(e){var t=e.data;if(t.success){var a=t.result;n(W(a))}})}},F=function(e){var t=e.data.notes;return o.a.createElement("div",null,o.a.createElement("p",null,"Notes Count : ",t.length),o.a.createElement("ul",null,t.map(function(e){return o.a.createElement("li",{key:e.noteId},e.note)})))},M=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChangeHandler=function(e){var t=e.target.value;n.setState({newNote:t,message:""})},n.onAddNoteClick=function(){""===n.state.newNote?n.setState({message:"Cannot be Empty"}):(n.props.addNote(n.props.user.userId,n.state.newNote),n.setState({notes:n.props.notes,message:"Saved Successfully"}))},n.onLogoutClick=function(){n.props.logout()},n.state={notes:n.props.notes,message:"",newNote:""},n.props.user.userId&&n.props.getNotes(n.props.user.userId),console.log("NOTE"),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.props.user.isLogin?o.a.createElement("div",null,""!==this.state.message?o.a.createElement("p",null,this.state.message):null,o.a.createElement(R,{label:"Add Note",name:"note",type:"text",placeholder:"Enter new note",onChange:this.onChangeHandler}),o.a.createElement(B,{value:"ADD",onClick:this.onAddNoteClick},o.a.createElement(G.a,{to:"/notes"})),o.a.createElement(B,{value:"LOGOUT",onClick:this.onLogoutClick}),o.a.createElement(F,{data:this.props.notes})):o.a.createElement(G.a,{to:"/login"}))}}]),t}(a.Component);var V=Object(k.a)(Object(p.b)(function(e){return{user:e.user,notes:e.notes}},function(e){return Object(g.b)({getNotes:X,addNote:$,logout:_},e)})(M)),q=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(x.a,null,o.a.createElement(D.a,{exact:!0,path:"/",render:function(){return o.a.createElement(H,{user:e.props.user})}}),o.a.createElement(D.a,{path:"/notes",render:function(){return o.a.createElement(V,null)}}),o.a.createElement(D.a,{exact:!0,path:"/login",render:function(){return o.a.createElement(z,{user:e.props.user,onClick:e.props.doLogin})}}),o.a.createElement(D.a,{path:"/signup",component:Z})))}}]),t}(a.Component),K=Object(k.a)(Object(p.b)(function(e){return{user:e.user}},function(e){return Object(g.b)({doLogin:T},e)})(q)),Q=(n(68),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(p.a,{store:y},o.a.createElement(d.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(K,null))))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,2,1]]]);
//# sourceMappingURL=main.475a8c39.chunk.js.map